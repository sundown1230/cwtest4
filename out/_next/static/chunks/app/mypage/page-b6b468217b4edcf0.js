(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[422],{860:function(s,e,t){Promise.resolve().then(t.bind(t,3878))},7907:function(s,e,t){"use strict";var a=t(5313);t.o(a,"useRouter")&&t.d(e,{useRouter:function(){return a.useRouter}})},3878:function(s,e,t){"use strict";t.r(e),t.d(e,{default:function(){return r}});var a=t(3827),m=t(4090),d=t(7907);function r(){let[s,e]=(0,m.useState)(null),[t,r]=(0,m.useState)(""),l=(0,d.useRouter)();return((0,m.useEffect)(()=>{(async()=>{try{let s=localStorage.getItem("token");if(!s){l.push("/login");return}let t=await fetch("/api/me",{headers:{Authorization:"Bearer ".concat(s)}}),a=await t.json();if(!a.success){r(a.error||"プロフィールの取得に失敗しました");return}if(!a.data){r("プロフィールが見つかりません");return}e(a.data)}catch(s){r("プロフィールの取得に失敗しました")}})()},[l]),t)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,a.jsx)("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,a.jsx)("span",{className:"block sm:inline",children:t})})})})}):s?(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 py-12 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,a.jsx)("div",{className:"bg-white shadow sm:rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"プロフィール"}),(0,a.jsx)("div",{className:"mt-5 border-t border-gray-200",children:(0,a.jsxs)("dl",{className:"divide-y divide-gray-200",children:[(0,a.jsxs)("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"お名前"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s.name})]}),(0,a.jsxs)("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"性別"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:"M"===s.gender?"男性":"女性"})]}),(0,a.jsxs)("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"生年月日"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(s.birthdate).toLocaleDateString("ja-JP")})]}),(0,a.jsxs)("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"医師免許取得日"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(s.license_date).toLocaleDateString("ja-JP")})]}),(0,a.jsxs)("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"メールアドレス"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s.email})]}),(0,a.jsxs)("div",{className:"py-4 sm:grid sm:grid-cols-3 sm:gap-4",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"専門分野"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:s.specialties.join(", ")})]})]})})]})})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,a.jsx)("div",{className:"text-center",children:"読み込み中..."})})})})}}},function(s){s.O(0,[971,69,744],function(){return s(s.s=860)}),_N_E=s.O()}]);