(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{6919:function(e,s,t){Promise.resolve().then(t.bind(t,8991))},7648:function(e,s,t){"use strict";t.d(s,{default:function(){return a.a}});var r=t(2972),a=t.n(r)},9376:function(e,s,t){"use strict";var r=t(5475);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},8991:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var r=t(7437),a=t(2265),n=t(9376),i=t(7648);function o(){let e=(0,n.useRouter)(),[s,t]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[d,c]=(0,a.useState)(""),u=async t=>{t.preventDefault(),c("");try{let t=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:o})}),r=await t.json();if(!r.success||!r.data){c(r.error||"ログインに失敗しました");return}localStorage.setItem("token",r.data.token),e.push("/mypage")}catch(e){c("ログインに失敗しました")}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"ログイン"})}),(0,r.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,r.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,r.jsxs)("form",{className:"space-y-6",onSubmit:u,children:[d&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,r.jsx)("span",{className:"block sm:inline",children:d})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"メールアドレス"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s,onChange:e=>t(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"パスワード"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:o,onChange:e=>l(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"ログイン"})})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsxs)("span",{className:"px-2 bg-white text-gray-500",children:["アカウントをお持ちでない方は",(0,r.jsx)(i.default,{href:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"新規登録"}),"へ"]})})})})]})})]})}}},function(e){e.O(0,[972,971,117,744],function(){return e(e.s=6919)}),_N_E=e.O()}]);